function [new_image] = generateTextonDatabase(imageDb,k)

    addpath('./common/export_fig/')
    addpath('./common/')

    rng(0);
     Database = makeLMfilters;
    
    basefile='./textures/1.1.';
    mapArr=['01','02','03','04','05','06','07','08','09','10','11','12','13'];
    for i=1:13
        filename=strcat(basefile,mapArr(i),'.tiff');
        im
        
        
    end
    
    
    image = mat2gray(imread(imageName));
    image=preprocessImage(image);
    Database=preprocessFilter(Database);
    
    imshow(mat2gray(image));
    %pause
   
    new_image = reconstruct(Database,image,k);
    
    filename=strcat('./result_',imageName);
    save_image(mat2gray(new_image),filename,0);

    
end

